<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informações do Município - PNATRANS</title>
    <!-- Incluindo o Tailwind CSS para um design moderno -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Incluindo a fonte Roboto do Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f4f4f5; /* Cinza claro (zinc-100) */
        }
    </style>
</head>
<body class="text-gray-900 flex items-center justify-center min-h-screen">

    <main class="w-full max-w-3xl mx-auto p-4 sm:p-6 md:p-8">
        
        <!-- HEADER -->
        <header class="text-center mb-8">
            <div class="inline-block bg-amber-400 p-4 rounded-full mb-4">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-black" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H17.5" />
                </svg>
            </div>
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800">Informações do Município</h1>
            <p class="text-md text-gray-500 mt-2">Preencha todos os dados básicos para iniciar a autoavaliação.</p>
        </header>

        <!-- FORMULÁRIO CARD -->
        <div class="bg-white p-6 sm:p-10 rounded-2xl shadow-xl border border-gray-200">
            <form id="login-form">
                <div class="mb-6 bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-lg">
                    <h2 class="text-lg font-bold text-gray-800">Dados Iniciais</h2>
                    <p class="text-sm text-gray-600 mt-1">Estas informações são protegidas por constraints de banco e não podem ficar em branco.</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Campo Município -->
                    <div>
                        <label for="municipio" class="block text-sm font-bold text-gray-700 mb-1">Município <span class="text-red-600">* OBRIGATÓRIO</span></label>
                        <input type="text" id="municipio" name="municipio" required class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition" placeholder="Nome completo do município">
                    </div>
                    <!-- Campo Estado/UF -->
                    <div>
                        <label for="estado" class="block text-sm font-bold text-gray-700 mb-1">Estado/UF <span class="text-red-600">* OBRIGATÓRIO</span></label>
                        <select id="estado" name="estado" required class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition">
                            <option value="">Selecione o estado</option>
                            <option value="AC">Acre</option>
                            <option value="AL">Alagoas</option>
                            <option value="AP">Amapá</option>
                            <option value="AM">Amazonas</option>
                            <option value="BA">Bahia</option>
                            <option value="CE">Ceará</option>
                            <option value="DF">Distrito Federal</option>
                            <option value="ES">Espírito Santo</option>
                            <option value="GO">Goiás</option>
                            <option value="MA">Maranhão</option>
                            <option value="MT">Mato Grosso</option>
                            <option value="MS">Mato Grosso do Sul</option>
                            <option value="MG">Minas Gerais</option>
                            <option value="PA">Pará</option>
                            <option value="PB">Paraíba</option>
                            <option value="PR">Paraná</option>
                            <option value="PE">Pernambuco</option>
                            <option value="PI">Piauí</option>
                            <option value="RJ">Rio de Janeiro</option>
                            <option value="RN">Rio Grande do Norte</option>
                            <option value="RS">Rio Grande do Sul</option>
                            <option value="RO">Rondônia</option>
                            <option value="RR">Roraima</option>
                            <option value="SC">Santa Catarina</option>
                            <option value="SP">São Paulo</option>
                            <option value="SE">Sergipe</option>
                            <option value="TO">Tocantins</option>
                        </select>
                    </div>
                    <!-- Campo Nome do Responsável -->
                    <div class="md:col-span-2">
                        <label for="responsavel" class="block text-sm font-bold text-gray-700 mb-1">Nome do Responsável <span class="text-red-600">* OBRIGATÓRIO</span></label>
                        <input type="text" id="responsavel" name="responsavel" required class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition" placeholder="Nome completo do responsável pela avaliação">
                    </div>
                    <!-- Campo Cargo/Função -->
                    <div class="md:col-span-2">
                        <label for="cargo" class="block text-sm font-bold text-gray-700 mb-1">Cargo/Função <span class="text-red-600">* OBRIGATÓRIO</span></label>
                        <input type="text" id="cargo" name="cargo" required class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition" placeholder="Ex: Secretário de Trânsito, Coordenador de Mobilidade">
                    </div>
                    <!-- Campo Telefone -->
                    <div>
                        <label for="telefone" class="block text-sm font-bold text-gray-700 mb-1">Telefone <span class="text-red-600">* OBRIGATÓRIO</span></label>
                        <input type="tel" id="telefone" name="telefone" required class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition" placeholder="(00) 00000-0000">
                    </div>
                    <!-- Campo E-mail -->
                    <div>
                        <label for="email" class="block text-sm font-bold text-gray-700 mb-1">E-mail <span class="text-red-600">* OBRIGATÓRIO</span></label>
                        <input type="email" id="email" name="email" required class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition" placeholder="email@municipio.gov.br">
                    </div>
                </div>

                <!-- Botões -->
                <div class="flex items-center justify-end space-x-4 mt-10">
                    <button type="button" class="text-gray-600 font-bold py-3 px-6 rounded-lg hover:bg-gray-100 transition-all">
                        ← Voltar
                    </button>
                    <button type="submit" class="bg-amber-400 text-black font-bold py-3 px-8 rounded-lg hover:bg-black hover:text-amber-400 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5">
                        Continuar →
                    </button>
                </div>
            </form>
        </div>

        <footer class="text-center mt-8 text-gray-500 text-sm">
            <p>ⓘ Campos obrigatórios - Protegidos por constraints de banco. O sistema agora impede automaticamente o salvamento de dados incompletos.</p>
        </footer>
    </main>

    <script>
        document.getElementById('login-form').addEventListener('submit', function(event) {
            event.preventDefault(); // Impede o envio padrão do formulário

            const form = event.target;
            let isValid = true;
            let firstInvalidField = null;

            // Remove mensagens de erro antigas
            form.querySelectorAll('.error-message').forEach(el => el.remove());

            // Validação simples para campos obrigatórios
            const requiredFields = ['municipio', 'estado', 'responsavel', 'cargo', 'email', 'telefone'];
            requiredFields.forEach(fieldName => {
                const field = form[fieldName];
                if (field.value.trim() === '') {
                    isValid = false;
                    field.classList.add('border-red-500');
                    const error = document.createElement('p');
                    error.className = 'text-red-600 text-sm mt-1 error-message';
                    error.textContent = 'Este campo é obrigatório.';
                    field.parentNode.appendChild(error);
                    if (!firstInvalidField) {
                        firstInvalidField = field;
                    }
                } else {
                    field.classList.remove('border-red-500');
                }
            });

            // Foca no primeiro campo inválido
            if (!isValid && firstInvalidField) {
                firstInvalidField.focus();
                return;
            }

            // Se tudo estiver válido, redireciona para a página do questionário
            if (isValid) {
                // Aqui você poderia salvar os dados em localStorage/sessionStorage se quisesse
                // Por exemplo:
                // const formData = new FormData(form);
                // const data = Object.fromEntries(formData.entries());
                // sessionStorage.setItem('municipioInfo', JSON.stringify(data));
                
                window.location.href = 'questionario.html';
            }
        });
    </script>

</body>
</html>

